<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StemCellPrices.com | Stem Cell Therapy Costs & Clinic Directory</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Compare stem cell therapy costs by city and condition. Find verified clinics with transparent pricing for knee, back, shoulder, and hip treatments. Updated pricing database.">
    <meta name="keywords" content="stem cell therapy cost, knee stem cell injection price, regenerative medicine clinics, orthopedic stem cell treatment, PRP therapy cost">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://stemcellprices.com/">

    <!-- Open Graph -->
    <meta property="og:title" content="StemCellPrices.com | Stem Cell Therapy Costs & Clinic Directory">
    <meta property="og:description" content="Compare stem cell therapy costs by city and condition. Find verified clinics with transparent pricing.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://stemcellprices.com/">
    <meta property="og:image" content="https://stemcellprices.com/og-image.jpg">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="StemCellPrices.com | Stem Cell Therapy Costs & Clinic Directory">
    <meta name="twitter:description" content="Compare stem cell therapy costs by city and condition. Find verified clinics with transparent pricing.">

    <!-- Schema.org Structured Data -->
    <!-- Google Fonts: Manrope -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Alpine.js -->
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Manrope', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            50: '#f0f7ff',
                            100: '#e0effe',
                            200: '#bae0fd',
                            400: '#60a5fa',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            800: '#1e40af',
                            900: '#1e3a8a',
                        },
                        price: {
                            light: '#0ea5e9',
                            dark: '#0369a1',
                        }
                    }
                }
            }
        }
    </script>

    <style>
        [x-cloak] { display: none !important; }

        .glass-panel {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .gradient-bg {
            background: radial-gradient(circle at top right, #e0effe 0%, #f8fafc 40%, #ffffff 100%);
        }

        .step-active {
            border-color: #2563eb;
            color: #1d4ed8;
            box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1);
        }

        .price-badge {
            background: linear-gradient(135deg, #0ea5e9 0%, #2563eb 100%);
        }

        .price-range-fill {
            background: linear-gradient(90deg, #0ea5e9 0%, #2563eb 100%);
        }

        .price-gradient-bar {
            background: linear-gradient(to right, #bae0fd, #2563eb, #1e3a8a);
        }

        .featured-card {
            border: 2px solid #2563eb;
            box-shadow: 0 20px 25px -5px rgba(37, 99, 235, 0.1);
        }

        .price-badge-glow {
            box-shadow: 0 0 15px rgba(14, 165, 233, 0.3);
        }

        .tab-active {
            border-color: #2563eb;
            color: #1d4ed8;
            background-color: #f0f7ff;
        }

        .table-row-hover:hover {
            background-color: rgba(37, 99, 235, 0.02);
        }

        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1);
        }

        .sticky-sidebar {
            top: 5rem;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        /* Page transitions */
        .page-enter { opacity: 0; transform: translateY(10px); }
        .page-enter-active { transition: all 0.3s ease-out; }
        .page-leave-active { transition: all 0.2s ease-in; opacity: 0; }
    
        /* Navigation Dropdown Fix */
        .nav-dropdown-container {
            position: relative;
        }
        .nav-dropdown-container:hover .nav-dropdown-menu {
            display: block;
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        .nav-dropdown-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            min-width: 220px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
            padding: 8px 0;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.2s ease;
        }
        .nav-dropdown-menu::before {
            content: '';
            position: absolute;
            top: -10px;
            left: 0;
            right: 0;
            height: 10px;
        }
        .nav-dropdown-menu a {
            display: block;
            padding: 10px 16px;
            color: #334155;
            font-size: 14px;
            font-weight: 500;
            transition: background 0.15s;
        }
        .nav-dropdown-menu a:hover {
            background: #f0f7ff;
            color: #2563eb;
        }
        .nav-dropdown-divider {
            height: 1px;
            background: #e2e8f0;
            margin: 8px 0;
        }

    </style>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebSite",
      "@id": "https://stemcellprices.com/#website",
      "url": "https://stemcellprices.com/",
      "name": "StemCellPrices.com - Stem Cell Therapy Directory",
      "description": "Find and compare stem cell therapy clinics across the United States. Get pricing information, treatment details, and contact verified providers.",
      "publisher": {
        "@id": "https://stemcellprices.com/#organization"
      },
      "inLanguage": "en-US",
      "potentialAction": {
        "@type": "SearchAction",
        "target": {
          "@type": "EntryPoint",
          "urlTemplate": "https://stemcellprices.com/?search={search_term_string}"
        },
        "query-input": "required name=search_term_string"
      }
    },
    {
      "@type": "Organization",
      "@id": "https://stemcellprices.com/#organization",
      "name": "StemCellPrices.com",
      "url": "https://stemcellprices.com/",
      "logo": {
        "@type": "ImageObject",
        "url": "https://stemcellprices.com/assets/images/logo.png",
        "width": 200,
        "height": 60
      },
      "contactPoint": {
        "@type": "ContactPoint",
        "contactType": "customer service",
        "availableLanguage": "English"
      }
    },
    {
      "@type": "WebPage",
      "@id": "https://stemcellprices.com/#webpage",
      "url": "https://stemcellprices.com/",
      "name": "StemCellPrices.com - Find Stem Cell Therapy Clinics & Pricing",
      "description": "Compare stem cell therapy costs and find verified clinics near you. Browse 100+ providers across 30 states with transparent pricing from $3,000 to $25,000.",
      "isPartOf": {
        "@id": "https://stemcellprices.com/#website"
      },
      "about": {
        "@type": "MedicalSpecialty",
        "name": "Regenerative Medicine"
      },
      "primaryImageOfPage": {
        "@type": "ImageObject",
        "url": "https://stemcellprices.com/assets/images/hero.jpg"
      }
    },
    {
      "@type": "FAQPage",
      "@id": "https://stemcellprices.com/#faq",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "How much does stem cell therapy cost?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Stem cell therapy costs typically range from $3,000 to $25,000 in the United States, depending on the treatment type, condition being treated, and clinic location. PRP therapy starts around $1,500-$3,000, while more advanced treatments like bone marrow or adipose-derived stem cell therapy can cost $5,000-$15,000 per treatment."
          }
        },
        {
          "@type": "Question",
          "name": "Is stem cell therapy covered by insurance?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Most stem cell therapies for orthopedic conditions are not covered by insurance as they are considered experimental or investigational. However, some clinics offer financing options, and certain treatments may be partially covered under specific circumstances. Always check with your insurance provider and the clinic."
          }
        },
        {
          "@type": "Question",
          "name": "What conditions can stem cell therapy treat?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Stem cell therapy is commonly used for orthopedic conditions including knee osteoarthritis, spine and disc degeneration, shoulder injuries (rotator cuff tears), hip osteoarthritis, tennis elbow, ankle injuries, and sports injuries. Results vary and the therapy is not FDA-approved for most of these conditions."
          }
        },
        {
          "@type": "Question",
          "name": "Is stem cell therapy safe?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "When performed by qualified medical professionals using proper protocols, stem cell therapy is generally considered safe. Common side effects include temporary pain, swelling, and stiffness at the injection site. Serious complications are rare but can include infection or adverse reactions. Always choose a reputable clinic with experienced providers."
          }
        }
      ]
    },
    {
      "@type": "MedicalWebPage",
      "specialty": "Regenerative Medicine",
      "medicalAudience": {
        "@type": "MedicalAudience",
        "audienceType": "Patient"
      }
    }
  ]
}
</script>

    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-B61C6SRXP7"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-B61C6SRXP7');
    </script>
    
    <!-- PostHog Analytics -->
    <script>
      !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys onSessionId".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
      posthog.init('phc_stemcellprices', {api_host: 'https://app.posthog.com'});
    </script>

</head>
<body class="font-sans antialiased text-slate-900 gradient-bg min-h-screen flex flex-col" x-data="app()">

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center gap-2 cursor-pointer" @click="navigate('home')">
                    <img src="/assets/images/logo-icon.png" alt="StemCellPrices.com" class="w-8 h-8 rounded-lg">
                    <span class="text-xl font-bold tracking-tight text-slate-900">StemCellPrices.com<span class="text-brand-600">.</span></span>
                </div>
                <div class="hidden md:flex space-x-8 text-sm font-semibold text-slate-600">
                    <a href="#" @click.prevent="navigate('cost-index')" :class="currentPage === 'cost-index' ? 'text-brand-600 border-b-2 border-brand-600' : 'hover:text-brand-600'" class="transition">Cost Guide</a>
                    <a href="#" @click.prevent="navigate('knee-cost-guide')" :class="currentPage === 'knee-cost-guide' ? 'text-brand-600 border-b-2 border-brand-600' : 'hover:text-brand-600'" class="transition">Conditions</a>
                    <div class="relative" x-data="{ locationsOpen: false }" @mouseenter="locationsOpen = true" @mouseleave="locationsOpen = false">
                        <a href="/locations/" :class="currentPage.includes('directory') || currentPage === 'all-states' ? 'text-brand-600 border-b-2 border-brand-600' : 'hover:text-brand-600'" class="transition inline-flex items-center gap-1 py-4">Locations <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></a>
                        <div x-show="locationsOpen" x-cloak class="absolute top-full left-0 pt-0 w-64 bg-white rounded-xl shadow-xl border border-slate-200 py-2 z-50 max-h-96 overflow-y-auto">
                            <a href="/locations/" class="block px-4 py-2 text-sm font-bold text-brand-600 hover:bg-brand-50">View All 30 States â†’</a>
                            <div class="border-t border-slate-100 my-2"></div>
                            <a href="/locations/california/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">California</a>
                            <a href="/locations/texas/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">Texas</a>
                            <a href="/locations/florida/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">Florida</a>
                            <a href="/locations/new-york/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">New York</a>
                            <a href="/locations/arizona/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">Arizona</a>
                            <a href="/locations/colorado/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">Colorado</a>
                            <a href="/locations/illinois/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">Illinois</a>
                            <a href="/locations/georgia/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">Georgia</a>
                            <a href="/locations/washington/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">Washington</a>
                            <a href="/locations/massachusetts/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">Massachusetts</a>
                            <div class="border-t border-slate-100 my-2"></div>
                            <div class="border-t border-slate-100 my-2"></div>
                            <p class="px-4 py-1 text-xs text-slate-400 uppercase tracking-wider">International</p>
                            <a href="/locations/mexico/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">ðŸ‡²ðŸ‡½ Mexico</a>
                            <a href="/compare-costs/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">Compare Travel Costs</a>
                        </div>
                    </div>
                    <a href="#" @click.prevent="navigate('home')" :class="currentPage === 'home' ? 'text-brand-600 border-b-2 border-brand-600' : 'hover:text-brand-600'" class="transition">Find Clinics</a>
                </div>
                <div class="flex items-center gap-4">
                    <button class="text-sm font-bold text-brand-700 bg-brand-50 px-4 py-2 rounded-full hover:bg-brand-100 transition">Clinic Login</button>
                    <!-- Mobile menu button -->
                    <button class="md:hidden p-2" @click="mobileMenu = !mobileMenu">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                    </button>
                </div>
            </div>
            <!-- Mobile menu -->
            <div x-show="mobileMenu" x-cloak class="md:hidden py-4 border-t border-slate-100">
                <div class="flex flex-col space-y-3">
                    <a href="#" @click.prevent="navigate('cost-index'); mobileMenu=false" class="px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-brand-50 rounded-lg">Cost Guide</a>
                    <a href="#" @click.prevent="navigate('knee-cost-guide'); mobileMenu=false" class="px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-brand-50 rounded-lg">Conditions</a>
                    <a href="/locations/" class="px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-brand-50 rounded-lg">Locations (30 States)</a>
                    <a href="#" @click.prevent="navigate('home'); mobileMenu=false" class="px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-brand-50 rounded-lg">Find Clinics</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content Router -->
    <main class="flex-grow">
        <!-- Home Page -->
        <div x-show="currentPage === 'home'" x-cloak x-transition:enter="page-enter page-enter-active" x-transition:leave="page-leave-active">
            <template x-if="currentPage === 'home'">
                <div x-data="homePage()">
                    <!-- Hero Section -->
                    <section class="relative pt-12 pb-20 z-20">
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10">
                            <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-brand-100 text-brand-700 text-xs font-bold uppercase tracking-wider mb-6">
                                <span class="relative flex h-2 w-2">
                                    <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-brand-400 opacity-75"></span>
                                    <span class="relative inline-flex rounded-full h-2 w-2 bg-brand-600"></span>
                                </span>
                                Live Cost Database: Updated Jan 2026
                            </div>
                            <h1 class="text-4xl md:text-6xl font-extrabold text-slate-900 tracking-tight mb-6">
                                Compare Stem Cell Therapy <br class="hidden md:block">
                                <span class="text-transparent bg-clip-text bg-gradient-to-r from-brand-600 to-sky-500">Costs by City & Condition.</span>
                            </h1>
                            <p class="max-w-2xl mx-auto text-lg text-slate-600 mb-10">
                                Transparent pricing for orthopedic treatments. Find verified clinics near you without the marketing hype.
                            </p>

                            <!-- 3-Step Selector Box -->
                            <div class="max-w-4xl mx-auto relative z-40">
                                <div class="bg-white rounded-3xl shadow-2xl shadow-brand-100 border border-slate-100 p-2 md:p-3">
                                    <div class="grid grid-cols-1 md:grid-cols-3 gap-2">
                                        <!-- Step 1: Condition -->
                                        <div class="relative" x-on:click.away="openStep = 0">
                                            <button @click.stop="openStep = openStep === 1 ? 0 : 1"
                                                :class="condition ? 'border-brand-200 bg-brand-50/30' : 'border-transparent'"
                                                class="w-full text-left px-6 py-4 rounded-2xl border-2 hover:border-brand-200 transition-all flex flex-col justify-center">
                                                <span class="text-[10px] uppercase font-bold text-slate-400 mb-1">1. Select Condition</span>
                                                <div class="flex items-center justify-between">
                                                    <span class="font-bold text-slate-700 truncate" x-text="condition || 'Select area...'"></span>
                                                    <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                                </div>
                                            </button>
                                            <div x-show="openStep === 1" x-transition x-cloak class="absolute top-full left-0 right-0 mt-2 bg-white rounded-2xl shadow-xl border border-slate-100 z-50 p-2 max-h-64 overflow-y-auto">
                                                <template x-for="c in conditionsList" :key="c">
                                                    <button @click="condition = c; openStep = 2" class="w-full text-left px-4 py-3 rounded-xl hover:bg-brand-50 text-slate-700 font-medium transition" x-text="c"></button>
                                                </template>
                                            </div>
                                        </div>

                                        <!-- Step 2: State -->
                                        <div class="relative" x-on:click.away="openStep = 0">
                                            <button @click.stop="openStep = openStep === 2 ? 0 : 2"
                                                :class="state ? 'border-brand-200 bg-brand-50/30' : 'border-transparent'"
                                                class="w-full text-left px-6 py-4 rounded-2xl border-2 hover:border-brand-200 transition-all flex flex-col justify-center">
                                                <span class="text-[10px] uppercase font-bold text-slate-400 mb-1">2. State</span>
                                                <div class="flex items-center justify-between">
                                                    <span class="font-bold text-slate-700 truncate" x-text="state || 'Choose state...'"></span>
                                                    <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                                </div>
                                            </button>
                                            <div x-show="openStep === 2" x-transition x-cloak class="absolute top-full left-0 right-0 mt-2 bg-white rounded-2xl shadow-xl border border-slate-100 z-50 p-2 max-h-64 overflow-y-auto">
                                                <template x-for="s in statesList" :key="s">
                                                    <button @click="state = s; openStep = 3" class="w-full text-left px-4 py-3 rounded-xl hover:bg-brand-50 text-slate-700 font-medium transition" x-text="s"></button>
                                                </template>
                                            </div>
                                        </div>

                                        <!-- Step 3: City + Search -->
                                        <div class="relative" x-on:click.away="openStep = 0">
                                            <div class="flex items-center gap-2">
                                                <button @click.stop="openStep = openStep === 3 ? 0 : 3"
                                                    :class="city ? 'border-brand-200 bg-brand-50/30' : 'border-transparent'"
                                                    class="flex-grow text-left px-6 py-4 rounded-2xl border-2 hover:border-brand-200 transition-all flex flex-col justify-center">
                                                    <span class="text-[10px] uppercase font-bold text-slate-400 mb-1">3. City</span>
                                                    <div class="flex items-center justify-between">
                                                        <span class="font-bold text-slate-700 truncate" x-text="city || 'Select city...'"></span>
                                                    </div>
                                                </button>
                                                <button @click="performSearch()" class="bg-brand-600 hover:bg-brand-700 text-white p-4 rounded-2xl shadow-lg shadow-brand-200 transition-all active:scale-95 group">
                                                    <svg class="w-6 h-6 group-hover:rotate-12 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                                                </button>
                                            </div>
                                            <div x-show="openStep === 3" x-transition x-cloak class="absolute top-full left-0 right-0 md:right-14 mt-2 bg-white rounded-2xl shadow-xl border border-slate-100 z-50 p-2 max-h-64 overflow-y-auto">
                                                <template x-for="ct in getCities()" :key="ct">
                                                    <button @click="city = ct; openStep = 0" class="w-full text-left px-4 py-3 rounded-xl hover:bg-brand-50 text-slate-700 font-medium transition" x-text="ct"></button>
                                                </template>
                                                <div x-show="!state" class="p-4 text-center text-slate-400 text-sm">Select a state first</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-4 flex flex-wrap justify-center gap-4 text-xs font-medium text-slate-500">
                                    <span class="flex items-center gap-1"><svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"></path></svg> No Referral Needed</span>
                                    <span class="flex items-center gap-1"><svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"></path></svg> Verified Pricing</span>
                                    <span class="flex items-center gap-1"><svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"></path></svg> Direct Clinic Contact</span>
                                </div>
                            </div>
                        </div>
                        <!-- Background Decoration -->
                        <div class="absolute top-0 left-1/2 -translate-x-1/2 w-full h-full pointer-events-none overflow-hidden -z-10">
                            <div class="absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-brand-100 rounded-full blur-[120px] opacity-50"></div>
                            <div class="absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-sky-100 rounded-full blur-[120px] opacity-50"></div>
                        </div>
                    </section>

                    <!-- Stats Grid -->
                    <section class="py-16 bg-slate-900 text-white relative z-10">
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div class="flex flex-col md:flex-row items-end justify-between mb-12 gap-6">
                                <div>
                                    <h2 class="text-3xl font-bold mb-4">Market Price Overview</h2>
                                    <p class="text-slate-400 max-w-xl">Aggregated price ranges across 500+ clinics. Costs vary by cell source (BMAC vs Adipose) and imaging requirements.</p>
                                </div>
                                <div class="flex gap-4">
                                    <div class="px-4 py-2 bg-slate-800 rounded-xl border border-slate-700">
                                        <span class="block text-[10px] text-slate-500 uppercase font-bold mb-1">National Low</span>
                                        <span class="text-xl font-bold text-sky-400">$2,500</span>
                                    </div>
                                    <div class="px-4 py-2 bg-slate-800 rounded-xl border border-slate-700">
                                        <span class="block text-[10px] text-slate-500 uppercase font-bold mb-1">National Median</span>
                                        <span class="text-xl font-bold text-brand-400">$5,800</span>
                                    </div>
                                </div>
                            </div>

                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                                <!-- US + Mexico Price Heatmap -->
                                <div class="bg-slate-800/50 rounded-3xl p-6 border border-slate-700/50 relative overflow-hidden group">
                                    <svg class="w-full h-auto" viewBox="0 0 960 600" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <!-- US States Outline (simplified) -->
                                        <g fill="#334155" stroke="#475569" stroke-width="0.5">
                                            <!-- West Coast -->
                                            <path d="M78 45 L95 42 L115 85 L125 130 L120 180 L100 220 L85 190 L75 140 L70 90 Z" /> <!-- WA -->
                                            <path d="M85 190 L100 220 L115 280 L100 330 L80 300 L75 250 L80 220 Z" /> <!-- OR -->
                                            <path d="M80 300 L100 330 L130 420 L145 480 L120 500 L90 470 L75 400 L70 340 Z" /> <!-- CA -->
                                            <!-- Mountain -->
                                            <path d="M125 130 L180 125 L195 180 L175 230 L130 220 L120 180 Z" /> <!-- ID -->
                                            <path d="M130 220 L175 230 L200 300 L180 340 L140 330 L115 280 Z" /> <!-- NV -->
                                            <path d="M180 125 L250 115 L260 180 L245 230 L195 220 L195 180 Z" /> <!-- MT -->
                                            <path d="M195 220 L245 230 L255 290 L235 330 L200 320 L200 300 Z" /> <!-- WY -->
                                            <path d="M200 320 L235 330 L250 400 L220 420 L190 400 L180 340 Z" /> <!-- CO -->
                                            <path d="M140 330 L180 340 L190 400 L170 450 L130 440 L130 420 Z" /> <!-- UT -->
                                            <path d="M130 440 L170 450 L180 500 L145 520 L120 500 L130 450 Z" /> <!-- AZ -->
                                            <path d="M180 500 L220 510 L240 540 L200 560 L170 540 L180 510 Z" /> <!-- NM -->
                                            <!-- Central -->
                                            <path d="M260 180 L330 170 L340 230 L320 280 L255 290 L260 230 Z" /> <!-- ND/SD -->
                                            <path d="M255 290 L320 280 L335 350 L310 390 L250 400 L250 340 Z" /> <!-- NE/KS -->
                                            <path d="M250 400 L310 390 L330 450 L300 480 L240 480 L240 440 Z" /> <!-- OK -->
                                            <path d="M240 480 L300 480 L340 560 L280 590 L220 560 L220 520 Z" /> <!-- TX -->
                                            <!-- Midwest -->
                                            <path d="M340 230 L400 220 L420 270 L400 310 L355 310 L340 280 Z" /> <!-- MN/IA -->
                                            <path d="M355 310 L400 310 L420 360 L390 400 L350 390 L335 350 Z" /> <!-- MO -->
                                            <path d="M350 390 L390 400 L410 450 L380 480 L340 470 L330 430 Z" /> <!-- AR -->
                                            <path d="M340 470 L380 480 L400 530 L360 560 L330 540 L330 500 Z" /> <!-- LA -->
                                            <!-- Great Lakes -->
                                            <path d="M420 180 L480 170 L500 210 L490 250 L450 260 L420 230 Z" /> <!-- WI/MI-UP -->
                                            <path d="M500 210 L560 200 L575 250 L555 290 L510 280 L490 250 Z" /> <!-- MI -->
                                            <path d="M420 270 L450 260 L490 280 L480 320 L440 330 L420 310 Z" /> <!-- IL -->
                                            <path d="M480 320 L510 310 L530 350 L510 380 L470 370 L460 340 Z" /> <!-- IN/OH -->
                                            <!-- South -->
                                            <path d="M410 450 L470 440 L500 490 L460 520 L420 510 L400 480 Z" /> <!-- MS/AL -->
                                            <path d="M460 520 L500 510 L540 550 L500 580 L460 560 L450 540 Z" /> <!-- FL-pan -->
                                            <path d="M540 550 L580 540 L620 600 L570 610 L530 580 Z" /> <!-- FL -->
                                            <!-- East -->
                                            <path d="M530 350 L580 340 L600 380 L575 410 L540 400 L520 370 Z" /> <!-- KY/TN -->
                                            <path d="M540 400 L575 410 L600 450 L565 480 L530 460 L520 430 Z" /> <!-- NC -->
                                            <path d="M530 460 L565 480 L580 520 L545 540 L510 520 L500 490 Z" /> <!-- SC/GA -->
                                            <path d="M575 250 L630 240 L650 280 L630 320 L590 310 L575 280 Z" /> <!-- PA -->
                                            <path d="M590 310 L630 320 L650 360 L620 390 L585 370 L580 340 Z" /> <!-- WV/VA -->
                                            <path d="M620 390 L650 380 L670 420 L640 450 L610 430 L600 410 Z" /> <!-- MD/DE -->
                                            <!-- Northeast -->
                                            <path d="M650 200 L700 190 L720 230 L700 270 L660 260 L650 230 Z" /> <!-- NY -->
                                            <path d="M660 260 L700 270 L720 300 L690 330 L655 310 L650 280 Z" /> <!-- NJ/CT -->
                                            <path d="M700 190 L750 175 L770 210 L750 250 L720 240 L710 210 Z" /> <!-- New England -->
                                        </g>
                                        <!-- Mexico (simplified) -->
                                        <g fill="#1e3a5f" stroke="#475569" stroke-width="0.5">
                                            <path d="M120 520 L200 560 L280 590 L340 580 L320 620 L260 640 L180 630 L120 600 L100 560 Z" />
                                            <path d="M180 630 L260 640 L300 680 L240 700 L180 680 L160 650 Z" />
                                        </g>

                                        <!-- Heat spots - based on real city prices -->
                                        <!-- Lower cost (green/teal) to Higher cost (orange/red) -->

                                        <!-- Mexico - Lowest costs ($3,500-4,500) - Bright Green -->
                                        <circle cx="200" cy="600" r="28" fill="url(#heatGreen)" opacity="0.8"><title>Tijuana - Avg $3,500</title></circle>
                                        <circle cx="260" cy="650" r="22" fill="url(#heatGreen)" opacity="0.7"><title>Cancun - Avg $4,000</title></circle>
                                        <circle cx="220" cy="680" r="20" fill="url(#heatGreen)" opacity="0.7"><title>Puerto Vallarta - Avg $4,200</title></circle>

                                        <!-- Low cost cities ($4,500-5,500) - Teal/Cyan -->
                                        <circle cx="185" cy="510" r="20" fill="url(#heatTeal)" opacity="0.7"><title>Phoenix - Avg $4,950</title></circle>
                                        <circle cx="195" cy="480" r="16" fill="url(#heatTeal)" opacity="0.65"><title>Scottsdale - Avg $5,225</title></circle>
                                        <circle cx="290" cy="530" r="18" fill="url(#heatTeal)" opacity="0.7"><title>Houston - Avg $4,950</title></circle>
                                        <circle cx="260" cy="490" r="16" fill="url(#heatTeal)" opacity="0.65"><title>Dallas - Avg $4,950</title></circle>
                                        <circle cx="250" cy="520" r="14" fill="url(#heatTeal)" opacity="0.6"><title>Austin - Avg $5,225</title></circle>
                                        <circle cx="235" cy="550" r="14" fill="url(#heatTeal)" opacity="0.6"><title>San Antonio - Avg $4,950</title></circle>
                                        <circle cx="385" cy="400" r="15" fill="url(#heatTeal)" opacity="0.65"><title>Kansas City - Avg $5,225</title></circle>
                                        <circle cx="430" cy="440" r="14" fill="url(#heatTeal)" opacity="0.6"><title>Nashville - Avg $5,225</title></circle>
                                        <circle cx="540" cy="480" r="16" fill="url(#heatTeal)" opacity="0.65"><title>Atlanta - Avg $4,950</title></circle>
                                        <circle cx="390" cy="350" r="14" fill="url(#heatTeal)" opacity="0.6"><title>Minneapolis - Avg $5,500</title></circle>

                                        <!-- Medium cost cities ($5,500-6,500) - Blue -->
                                        <circle cx="110" cy="380" r="22" fill="url(#heatBlue)" opacity="0.7"><title>Los Angeles - Avg $5,500</title></circle>
                                        <circle cx="95" cy="320" r="16" fill="url(#heatBlue)" opacity="0.65"><title>San Francisco - Avg $6,050</title></circle>
                                        <circle cx="100" cy="280" r="14" fill="url(#heatBlue)" opacity="0.6"><title>Sacramento - Avg $5,500</title></circle>
                                        <circle cx="130" cy="450" r="18" fill="url(#heatBlue)" opacity="0.7"><title>San Diego - Avg $5,775</title></circle>
                                        <circle cx="115" cy="340" r="14" fill="url(#heatBlue)" opacity="0.6"><title>San Jose - Avg $5,775</title></circle>
                                        <circle cx="165" cy="395" r="14" fill="url(#heatBlue)" opacity="0.6"><title>Las Vegas - Avg $5,775</title></circle>
                                        <circle cx="210" cy="380" r="14" fill="url(#heatBlue)" opacity="0.6"><title>Denver - Avg $5,500</title></circle>
                                        <circle cx="85" cy="200" r="16" fill="url(#heatBlue)" opacity="0.65"><title>Seattle - Avg $5,775</title></circle>
                                        <circle cx="95" cy="260" r="12" fill="url(#heatBlue)" opacity="0.55"><title>Portland - Avg $5,500</title></circle>
                                        <circle cx="440" cy="310" r="18" fill="url(#heatBlue)" opacity="0.7"><title>Chicago - Avg $5,775</title></circle>
                                        <circle cx="490" cy="310" r="14" fill="url(#heatBlue)" opacity="0.6"><title>Detroit - Avg $5,500</title></circle>
                                        <circle cx="600" cy="320" r="14" fill="url(#heatBlue)" opacity="0.6"><title>Philadelphia - Avg $6,050</title></circle>
                                        <circle cx="520" cy="430" r="14" fill="url(#heatBlue)" opacity="0.6"><title>Charlotte - Avg $5,500</title></circle>
                                        <circle cx="510" cy="400" r="12" fill="url(#heatBlue)" opacity="0.55"><title>Raleigh - Avg $5,775</title></circle>
                                        <circle cx="360" cy="540" r="14" fill="url(#heatBlue)" opacity="0.6"><title>New Orleans - Avg $5,500</title></circle>

                                        <!-- Higher cost cities ($6,500+) - Purple/Pink -->
                                        <circle cx="570" cy="580" r="24" fill="url(#heatPurple)" opacity="0.75"><title>Miami - Avg $6,325</title></circle>
                                        <circle cx="540" cy="540" r="16" fill="url(#heatPurple)" opacity="0.65"><title>Tampa - Avg $5,775</title></circle>
                                        <circle cx="520" cy="520" r="14" fill="url(#heatPurple)" opacity="0.6"><title>Orlando - Avg $5,500</title></circle>
                                        <circle cx="505" cy="550" r="12" fill="url(#heatPurple)" opacity="0.55"><title>Jacksonville - Avg $5,500</title></circle>
                                        <circle cx="680" cy="260" r="26" fill="url(#heatPurple)" opacity="0.8"><title>New York - Avg $6,600</title></circle>
                                        <circle cx="710" cy="220" r="18" fill="url(#heatPurple)" opacity="0.7"><title>Boston - Avg $6,600</title></circle>

                                        <!-- Gradient definitions -->
                                        <defs>
                                            <radialGradient id="heatGreen">
                                                <stop offset="0%" stop-color="#10b981" stop-opacity="1"/>
                                                <stop offset="100%" stop-color="#10b981" stop-opacity="0"/>
                                            </radialGradient>
                                            <radialGradient id="heatTeal">
                                                <stop offset="0%" stop-color="#06b6d4" stop-opacity="1"/>
                                                <stop offset="100%" stop-color="#06b6d4" stop-opacity="0"/>
                                            </radialGradient>
                                            <radialGradient id="heatBlue">
                                                <stop offset="0%" stop-color="#3b82f6" stop-opacity="1"/>
                                                <stop offset="100%" stop-color="#3b82f6" stop-opacity="0"/>
                                            </radialGradient>
                                            <radialGradient id="heatPurple">
                                                <stop offset="0%" stop-color="#8b5cf6" stop-opacity="1"/>
                                                <stop offset="100%" stop-color="#8b5cf6" stop-opacity="0"/>
                                            </radialGradient>
                                        </defs>

                                        <!-- Labels for Mexico -->
                                        <text x="200" y="620" fill="#10b981" font-size="10" font-weight="bold" text-anchor="middle">MEXICO</text>
                                    </svg>
                                    <div class="absolute bottom-4 left-4 right-4 flex justify-between items-center">
                                        <span class="text-xs font-bold text-slate-400 tracking-widest uppercase">Live Price Heatmap</span>
                                        <div class="flex items-center gap-2">
                                            <span class="text-[10px] text-slate-500">$3.5K</span>
                                            <div class="w-32 h-2 bg-gradient-to-r from-emerald-400 via-cyan-400 via-blue-500 to-purple-500 rounded-full"></div>
                                            <span class="text-[10px] text-slate-500">$6.5K+</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Price Cards -->
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                    <template x-for="item in pricingData" :key="item.condition">
                                        <div @click="$dispatch('navigate', 'knee-cost-guide')" class="bg-slate-800 p-6 rounded-2xl border border-slate-700 hover:border-brand-500 transition-all group cursor-pointer">
                                            <div class="flex items-start justify-between mb-4">
                                                <div class="p-2 bg-slate-700 rounded-lg text-brand-400 group-hover:bg-brand-600 group-hover:text-white transition-colors">
                                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>
                                                </div>
                                                <span class="text-[10px] font-bold text-slate-500 uppercase" x-text="item.count + ' Clinics'"></span>
                                            </div>
                                            <h3 class="text-lg font-bold text-white mb-1" x-text="item.condition"></h3>
                                            <div class="flex items-baseline gap-2">
                                                <span class="text-xl font-extrabold text-sky-400" x-text="item.range"></span>
                                                <span class="text-xs text-slate-500 italic">Est.</span>
                                            </div>
                                            <div class="mt-4 pt-4 border-t border-slate-700 flex justify-between items-center">
                                                <span class="text-xs text-slate-400">Avg. 1-2 injections</span>
                                                <svg class="w-4 h-4 text-slate-600 group-hover:text-brand-400 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                                            </div>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Popular Cities -->
                    <section class="py-20 bg-white">
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div class="flex flex-col md:flex-row items-baseline justify-between gap-4 mb-10">
                                <h2 class="text-3xl font-extrabold text-slate-900">Popular Hubs & Medical Tourism</h2>
                                <a href="/locations/" class="text-brand-600 font-bold hover:underline inline-flex items-center gap-1">
                                    View All 30 States & 50+ Cities
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg>
                                </a>
                            </div>

                            <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4">
                                <template x-for="city in popularCities" :key="city.name">
                                    <a :href="city.state === 'Mexico' ? '/locations/mexico/' + city.name.toLowerCase().replace(/\s+/g, '-') + '/' : '/locations/' + city.state.toLowerCase().replace(/\s+/g, '-') + '/' + city.name.toLowerCase().replace(/\s+/g, '-') + '/'" class="group relative overflow-hidden rounded-2xl aspect-[4/3] bg-slate-100 flex flex-col justify-end p-4 transition-all hover:-translate-y-1 hover:shadow-xl">
                                        <img :src="city.img" class="absolute inset-0 w-full h-full object-cover group-hover:scale-110 transition-transform duration-500 opacity-80" :alt="city.name">
                                        <div class="absolute inset-0 bg-gradient-to-t from-slate-900/80 via-transparent to-transparent"></div>
                                        <div class="relative z-10 text-left">
                                            <span class="block text-white font-bold text-lg" x-text="city.name"></span>
                                            <div class="flex items-center justify-between mt-1">
                                                <span class="text-xs text-brand-300 font-semibold" x-text="city.price"></span>
                                                <span class="text-[10px] text-white/60 bg-white/10 px-2 py-0.5 rounded-full backdrop-blur-sm" x-text="city.type"></span>
                                            </div>
                                        </div>
                                    </button>
                                </template>
                            </div>

                            <!-- Mexico Callout -->
                            <div class="mt-12 bg-brand-50 rounded-3xl p-8 border border-brand-100 flex flex-col md:flex-row items-center gap-8">
                                <div class="w-20 h-20 bg-white rounded-2xl flex items-center justify-center text-4xl shadow-sm border border-brand-100">ðŸ‡²ðŸ‡½</div>
                                <div class="flex-grow text-center md:text-left">
                                    <h3 class="text-xl font-extrabold text-slate-900 mb-2">Considering Stem Cell Therapy in Mexico?</h3>
                                    <p class="text-slate-600">Save up to 65% on high-dose IV treatments. We compare Tijuana, Cancun, and Puerto Vallarta clinics side-by-side with US options.</p>
                                </div>
                                <a href="/locations/mexico/" class="bg-white text-slate-900 px-8 py-4 rounded-2xl font-bold border-2 border-slate-100 hover:border-brand-600 transition shadow-sm whitespace-nowrap inline-block">
                                    Compare Travel Costs
                                </a>
                            </div>
                        </div>
                    </section>

                    <!-- How It Works -->
                    <section class="py-20 bg-slate-50 border-y border-slate-200">
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-12">
                                <div class="text-center md:text-left">
                                    <div class="w-12 h-12 bg-white rounded-2xl flex items-center justify-center text-brand-600 shadow-sm mb-6 mx-auto md:mx-0">
                                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                    </div>
                                    <h4 class="text-lg font-bold mb-3">Verified Price Data</h4>
                                    <p class="text-slate-600 text-sm leading-relaxed">We source pricing directly from patient reports and clinic fee schedules. No hidden facility fees or surprise bills.</p>
                                </div>
                                <div class="text-center md:text-left">
                                    <div class="w-12 h-12 bg-white rounded-2xl flex items-center justify-center text-brand-600 shadow-sm mb-6 mx-auto md:mx-0">
                                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                                    </div>
                                    <h4 class="text-lg font-bold mb-3">Location Mapping</h4>
                                    <p class="text-slate-600 text-sm leading-relaxed">Instantly filter clinics by drive time. Find local orthopedic specialists certified in regenerative medicine.</p>
                                </div>
                                <div class="text-center md:text-left">
                                    <div class="w-12 h-12 bg-white rounded-2xl flex items-center justify-center text-brand-600 shadow-sm mb-6 mx-auto md:mx-0">
                                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                                    </div>
                                    <h4 class="text-lg font-bold mb-3">Direct-to-Expert</h4>
                                    <p class="text-slate-600 text-sm leading-relaxed">Click-to-call technology. Skip the middleman and speak directly to a physician's clinical coordinator.</p>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </template>
        </div>

        <!-- Placeholder for other pages - will be loaded dynamically -->
        <div x-show="currentPage === 'cost-index'" x-cloak x-transition>
            <template x-if="currentPage === 'cost-index'">
                <div x-data="costIndexPage()" x-init="init()"></div>
            </template>
        </div>

        <div x-show="currentPage === 'knee-cost-guide'" x-cloak x-transition>
            <template x-if="currentPage === 'knee-cost-guide'">
                <div x-data="kneeCostGuidePage()"></div>
            </template>
        </div>

        <div x-show="currentPage === 'la-knee-results'" x-cloak x-transition>
            <template x-if="currentPage === 'la-knee-results'">
                <div x-data="laKneeResultsPage()"></div>
            </template>
        </div>

        <div x-show="currentPage === 'clinic-profile'" x-cloak x-transition>
            <template x-if="currentPage === 'clinic-profile'">
                <div x-data="clinicProfilePage()"></div>
            </template>
        </div>

        <div x-show="currentPage === 'california-directory'" x-cloak x-transition>
            <template x-if="currentPage === 'california-directory'">
                <div x-data="californiaDirectoryPage()"></div>
            </template>
        </div>

        <div x-show="currentPage === 'la-directory'" x-cloak x-transition>
            <template x-if="currentPage === 'la-directory'">
                <div x-data="laDirectoryPage()"></div>
            </template>
        </div>

        <div x-show="currentPage === 'mexico-comparison'" x-cloak x-transition>
            <template x-if="currentPage === 'mexico-comparison'">
                <div x-data="mexicoComparisonPage()"></div>
            </template>
        </div>

        <div x-show="currentPage === 'mexico-clinic'" x-cloak x-transition>
            <template x-if="currentPage === 'mexico-clinic'">
                <div x-data="mexicoClinicPage()"></div>
            </template>
        </div>

        <!-- Dynamic City Directory Page -->
        <div x-show="currentPage === 'city-directory'" x-cloak x-transition>
            <template x-if="currentPage === 'city-directory'">
                <div x-data="cityDirectoryPage()"></div>
            </template>
        </div>

        <!-- Dynamic State Directory Page -->
        <div x-show="currentPage === 'state-directory'" x-cloak x-transition>
            <template x-if="currentPage === 'state-directory'">
                <div x-data="stateDirectoryPage()"></div>
            </template>
        </div>

        <!-- All States Directory Page -->
        <div x-show="currentPage === 'all-states'" x-cloak x-transition>
            <template x-if="currentPage === 'all-states'">
                <div x-data="allStatesPage()"></div>
            </template>
        </div>
    </main>

    <!-- Global Footer -->
    <footer class="bg-gray-900 text-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <div class="col-span-1 md:col-span-1">
                <a href="/" class="flex items-center mb-4">
                    <img src="/assets/images/logo-dark.png" alt="StemCellPrices.com" class="h-8 w-auto brightness-0 invert">
                </a>
                <p class="text-gray-400 text-sm">Compare stem cell therapy costs across the US and Mexico. Find verified clinics and transparent pricing.</p>
            </div>
            <div>
                <h3 class="text-white font-semibold mb-4">Popular States</h3>
                <ul class="space-y-2">
                    <li><a href="/locations/california/" class="text-gray-400 hover:text-teal-400 text-sm">California</a></li>
                    <li><a href="/locations/texas/" class="text-gray-400 hover:text-teal-400 text-sm">Texas</a></li>
                    <li><a href="/locations/florida/" class="text-gray-400 hover:text-teal-400 text-sm">Florida</a></li>
                    <li><a href="/locations/arizona/" class="text-gray-400 hover:text-teal-400 text-sm">Arizona</a></li>
                </ul>
            </div>
            <div>
                <h3 class="text-white font-semibold mb-4">Mexico</h3>
                <ul class="space-y-2">
                    <li><a href="/locations/mexico/" class="text-gray-400 hover:text-teal-400 text-sm">Mexico Overview</a></li>
                    <li><a href="/locations/mexico/tijuana/" class="text-gray-400 hover:text-teal-400 text-sm">Tijuana</a></li>
                    <li><a href="/locations/mexico/cancun/" class="text-gray-400 hover:text-teal-400 text-sm">Cancun</a></li>
                    <li><a href="/locations/mexico/puerto-vallarta/" class="text-gray-400 hover:text-teal-400 text-sm">Puerto Vallarta</a></li>
                </ul>
            </div>
            <div>
                <h3 class="text-white font-semibold mb-4">Resources</h3>
                <ul class="space-y-2">
                    <li><a href="/#cost-guide" class="text-gray-400 hover:text-teal-400 text-sm">Cost Guide</a></li>
                    <li><a href="/compare-costs/" class="text-gray-400 hover:text-teal-400 text-sm">Compare Costs</a></li>
                    <li><a href="/locations/" class="text-gray-400 hover:text-teal-400 text-sm">All Locations</a></li>
                </ul>
            </div>
        </div>
        <div class="border-t border-gray-800 mt-8 pt-8 text-center">
            <p class="text-gray-400 text-sm">&copy; 2025 StemCellPrices.com. All rights reserved.</p>
        </div>
    </div>
</footer>

<!-- Consultation Request Modal -->
<div id="consultationModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/50 p-4" onclick="if(event.target === this) closeConsultationModal()">
    <div class="bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl max-h-[90vh] overflow-y-auto">
        <div id="formSuccess" class="hidden text-center py-8">
            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
            </div>
            <h3 class="text-xl font-bold text-slate-900 mb-2">Request Submitted!</h3>
            <p class="text-slate-600">A specialist will contact you within 24 hours.</p>
        </div>
        <div id="formContainer">
            <h3 class="text-xl font-bold text-slate-900 mb-2">Request Information</h3>
            <p class="text-slate-600 text-sm mb-6">Fill out the form below and a specialist will contact you.</p>
            <div id="formError" class="hidden mb-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm"></div>
            <form id="consultationForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-semibold text-slate-700 mb-2">Full Name *</label>
                    <input type="text" name="name" placeholder="John Smith" required class="w-full p-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>
                <div>
                    <label class="block text-sm font-semibold text-slate-700 mb-2">Email Address *</label>
                    <input type="email" name="email" placeholder="john@example.com" required class="w-full p-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>
                <div>
                    <label class="block text-sm font-semibold text-slate-700 mb-2">Phone Number *</label>
                    <input type="tel" name="phone" placeholder="(555) 123-4567" required class="w-full p-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>
                <div>
                    <label class="block text-sm font-semibold text-slate-700 mb-2">Condition / Area of Pain *</label>
                    <select name="condition" required class="w-full p-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        <option value="">Select your condition</option>
                        <option value="Knee">Knee Pain / Osteoarthritis</option>
                        <option value="Spine">Lower Back / Disc Pain</option>
                        <option value="Shoulder">Shoulder / Rotator Cuff</option>
                        <option value="Hip">Hip Pain / Osteoarthritis</option>
                        <option value="Neck">Neck / Cervical Spine</option>
                        <option value="SI Joint">SI Joint / Sacroiliac</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-semibold text-slate-700 mb-2">Additional Information</label>
                    <textarea name="message" rows="3" placeholder="Tell us more about your condition..." class="w-full p-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"></textarea>
                </div>
                <button type="submit" class="w-full py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition">Submit Request</button>
                <button type="button" onclick="closeConsultationModal()" class="w-full py-2 text-slate-500 hover:text-slate-700 font-medium transition text-sm">Cancel</button>
                <p class="text-[11px] text-slate-400 text-center">By submitting, you consent to be contacted about stem cell treatment options.</p>
            </form>
        </div>
    </div>
</div>

<script>
function openConsultationModal() {
    document.getElementById('consultationModal').classList.remove('hidden');
    document.getElementById('consultationModal').classList.add('flex');
    document.getElementById('formSuccess').classList.add('hidden');
    document.getElementById('formContainer').classList.remove('hidden');
    document.getElementById('formError').classList.add('hidden');
}

function closeConsultationModal() {
    document.getElementById('consultationModal').classList.add('hidden');
    document.getElementById('consultationModal').classList.remove('flex');
}

document.getElementById('consultationForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    const form = e.target;
    const formData = new FormData(form);
    const errorDiv = document.getElementById('formError');

    if (!formData.get('name') || !formData.get('email') || !formData.get('phone') || !formData.get('condition')) {
        errorDiv.textContent = 'Please fill in all required fields.';
        errorDiv.classList.remove('hidden');
        return;
    }

    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(formData.get('email'))) {
        errorDiv.textContent = 'Please enter a valid email address.';
        errorDiv.classList.remove('hidden');
        return;
    }

    try {
        const urlParams = new URLSearchParams();
        urlParams.append('form-name', 'consultation');
        urlParams.append('name', formData.get('name'));
        urlParams.append('email', formData.get('email'));
        urlParams.append('phone', formData.get('phone'));
        urlParams.append('condition', formData.get('condition'));
        urlParams.append('message', formData.get('message') || '');
        urlParams.append('page_url', window.location.href);
        urlParams.append('location', 'Homepage');

        const response = await fetch('/', {
            method: 'POST',
            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
            body: urlParams.toString()
        });

        if (!response.ok) throw new Error('Form submission failed');

        if (typeof gtag !== 'undefined') {
            gtag('event', 'consultation_request', { 'condition': formData.get('condition'), 'page': window.location.pathname });
        }

        document.getElementById('formContainer').classList.add('hidden');
        document.getElementById('formSuccess').classList.remove('hidden');
        setTimeout(function() { closeConsultationModal(); form.reset(); }, 3000);
    } catch (error) {
        errorDiv.textContent = 'Something went wrong. Please try again.';
        errorDiv.classList.remove('hidden');
    }
});
</script>

<!-- Hidden Netlify Form for detection -->
<form name="consultation" data-netlify="true" netlify-honeypot="bot-field" hidden>
    <input type="text" name="name">
    <input type="email" name="email">
    <input type="tel" name="phone">
    <input type="text" name="condition">
    <textarea name="message"></textarea>
    <input type="text" name="page_url">
    <input type="text" name="location">
</form>

    <!-- Main App Script -->
    <script src="app.js"></script>
</body>
</html>
