<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cervical Spine (Neck) Stem Cell Therapy Cost Guide in San Diego, California | StemCellPrices.com</title>
    <meta name="description" content="Cervical Spine (Neck) stem cell therapy costs $$5,000 to $$19,800 in San Diego, California. Compare prices from verified clinics.">
    <link rel="canonical" href="https://stemcellprices.com/neck-cost-guide/california/san-diego/">

    <!-- Google Fonts: Manrope -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Alpine.js -->
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <!-- Condition Data -->
    <script src="/condition-data.js"></script>
    <!-- Geo Detection -->
    <script src="/geo-detect.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Manrope', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            50: '#f0f7ff',
                            100: '#e0effe',
                            200: '#bae0fd',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            800: '#1e40af',
                            900: '#1e3a8a',
                        },
                        price: {
                            light: '#0ea5e9',
                            dark: '#0369a1',
                        }
                    }
                }
            }
        }
    </script>

    <style>
        [x-cloak] { display: none !important; }

        .glass-panel {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.4);
        }

        .gradient-bg {
            background: radial-gradient(circle at top right, #e0effe 0%, #f8fafc 40%, #ffffff 100%);
        }

        .price-gradient-bar {
            background: linear-gradient(to right, #bae0fd, #2563eb, #1e3a8a);
        }

        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>

    <!-- Schema.org Markup -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "MedicalWebPage",
        "name": "Cervical Spine (Neck) Stem Cell Therapy Cost Guide in San Diego, California",
        "description": "Cervical Spine (Neck) stem cell therapy costs $$5,000 to $$19,800 in San Diego, California. Compare prices from verified clinics.",
        "url": "https://stemcellprices.com/neck-cost-guide/california/san-diego/",
        "mainEntity": {
            "@type": "MedicalProcedure",
            "name": "Cervical Spine (Neck) Stem Cell Therapy",
            "procedureType": "Regenerative Medicine"
        }
    }
    </script>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-B61C6SRXP7"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-B61C6SRXP7', {
            'condition': 'neck',
            'page_type': 'cost_guide',
            'location_state': 'California',
            'location_city': 'San Diego'
        });
    </script>
</head>
<body class="font-sans antialiased text-slate-900 gradient-bg min-h-screen flex flex-col" x-data="costGuideApp()">

    <!-- Hidden Netlify Form for detection -->
    <form name="consultation" data-netlify="true" netlify-honeypot="bot-field" hidden>
        <input type="text" name="name">
        <input type="email" name="email">
        <input type="tel" name="phone">
        <input type="text" name="condition">
        <textarea name="message"></textarea>
        <input type="text" name="page_url">
        <input type="text" name="location">
    </form>

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-slate-200" x-data="{ mobileMenu: false, locationsOpen: false }">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <a href="/" class="flex items-center gap-2">
                    <img src="/assets/images/logo-icon.png" alt="StemCellPrices.com" class="w-8 h-8 rounded-lg">
                    <span class="text-xl font-bold tracking-tight text-slate-900">StemCellPrices.com<span class="text-brand-600">.</span></span>
                </a>
                <div class="hidden md:flex space-x-8 text-sm font-semibold text-slate-600">
                    <a href="/" class="hover:text-brand-600 transition">Find Clinics</a>
                    <a href="/#cost-guide" class="hover:text-brand-600 transition">Cost Guide</a>
                    <a href="/conditions/" class="hover:text-brand-600 transition">Conditions</a>
                    <div class="relative" @mouseenter="locationsOpen = true" @mouseleave="locationsOpen = false">
                        <a href="/locations/" class="hover:text-brand-600 transition inline-flex items-center gap-1">Locations <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></a>
                        <div x-show="locationsOpen" x-cloak class="absolute top-full left-0 pt-0 w-64 bg-white rounded-xl shadow-xl border border-slate-200 py-2 z-50 max-h-96 overflow-y-auto">
                            <a href="/locations/" class="block px-4 py-2 text-sm font-bold text-brand-600 hover:bg-brand-50">View All 30 States &rarr;</a>
                            <div class="border-t border-slate-100 my-2"></div>
                            <a href="/locations/california/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">California</a>
                            <a href="/locations/texas/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">Texas</a>
                            <a href="/locations/florida/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">Florida</a>
                            <a href="/locations/new-york/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">New York</a>
                            <a href="/locations/arizona/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">Arizona</a>
                            <a href="/locations/colorado/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">Colorado</a>
                            <a href="/locations/illinois/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">Illinois</a>
                            <a href="/locations/georgia/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">Georgia</a>
                            <a href="/locations/washington/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">Washington</a>
                            <a href="/locations/massachusetts/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">Massachusetts</a>
                            <div class="border-t border-slate-100 my-2"></div>
                            <p class="px-4 py-1 text-xs text-slate-400 uppercase tracking-wider">International</p>
                            <a href="/locations/mexico/" class="block px-4 py-2 text-sm text-slate-600 hover:bg-brand-50 hover:text-brand-600">Mexico</a>
                        </div>
                    </div>
                </div>
                <div class="flex items-center gap-4">
                    <a href="/#clinic-login" class="hidden sm:block text-sm font-bold text-brand-700 bg-brand-50 px-4 py-2 rounded-full hover:bg-brand-100 transition">Clinic Login</a>
                    <button class="md:hidden p-2" @click="mobileMenu = !mobileMenu">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                    </button>
                </div>
            </div>
            <div x-show="mobileMenu" x-cloak class="md:hidden py-4 border-t border-slate-100">
                <div class="flex flex-col space-y-3">
                    <a href="/" class="px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-brand-50 rounded-lg">Find Clinics</a>
                    <a href="/#cost-guide" class="px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-brand-50 rounded-lg">Cost Guide</a>
                    <a href="/conditions/" class="px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-brand-50 rounded-lg">Conditions</a>
                    <a href="/locations/" class="px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-brand-50 rounded-lg">Locations</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow">

        <!-- Breadcrumb & Header -->
        <section class="pt-8 pb-12">
            <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
                <nav class="flex mb-4 text-xs font-bold uppercase tracking-wider text-slate-400 gap-2 items-center flex-wrap">
                    <a href="/" class="hover:text-brand-600">Home</a>
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M9 5l7 7-7 7"></path></svg>
                    <a href="/national_cost_index.html" class="hover:text-brand-600">Cost Index</a>
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M9 5l7 7-7 7"></path></svg>
                    <span class="text-brand-600" x-text="condition.name">Cervical Spine (Neck)</span>
                    <template x-if="location.city">
                        <span class="flex items-center gap-2">
                            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M9 5l7 7-7 7"></path></svg>
                            <span x-text="location.city + ', ' + location.stateCode"></span>
                        </span>
                    </template>
                </nav>

                <h1 class="text-3xl md:text-5xl font-extrabold text-slate-900 tracking-tight mb-4">
                    <span x-text="condition.shortName">Neck</span> Stem Cell Therapy <span class="text-brand-600">Cost Guide</span>
                </h1>

                <!-- Location indicator with change option -->
                <div class="flex items-center gap-3 mb-4" x-show="location.city">
                    <div class="flex items-center gap-2 text-sm text-slate-500">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                        <span>Showing prices for <strong x-text="location.city + ', ' + location.state"></strong></span>
                    </div>
                    <button @click="showLocationModal = true" class="text-sm text-brand-600 hover:text-brand-700 font-semibold underline">Change</button>
                </div>

                <p class="text-lg text-slate-600 max-w-3xl leading-relaxed" x-text="condition.description">
                    Cervical Spine (Neck) stem cell therapy costs $$5,000 to $$19,800 in San Diego, California. Compare prices from verified clinics.
                </p>
            </div>
        </section>

        <!-- National Price Range Cards -->
        <section class="pb-16">
            <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-white rounded-2xl p-6 border border-slate-200 shadow-sm text-center">
                        <div class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2" x-text="location.city ? location.city + ' Low' : 'National Low'">National Low</div>
                        <div class="text-3xl font-extrabold text-slate-700" x-text="formatPrice(prices.low)">$$5,000</div>
                    </div>
                    <div class="bg-brand-600 rounded-2xl p-6 text-center shadow-lg">
                        <div class="text-[10px] font-bold text-brand-200 uppercase tracking-widest mb-2">Median Price</div>
                        <div class="text-4xl font-extrabold text-white" x-text="formatPrice(prices.median)">$$8,800</div>
                    </div>
                    <div class="bg-white rounded-2xl p-6 border border-slate-200 shadow-sm text-center">
                        <div class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2" x-text="location.city ? location.city + ' High' : 'National High'">National High</div>
                        <div class="text-3xl font-extrabold text-slate-700" x-text="formatPrice(prices.high)">$$19,800</div>
                    </div>
                </div>

                <!-- Clinical Outcomes Card -->
                <div class="bg-slate-50 rounded-2xl p-8 border border-slate-200">
                    <h3 class="font-bold text-slate-900 mb-6">Clinical Outcomes (<span x-text="condition.outcomes.source">Spine Journal 2024, Cervical Spine Research Society</span>)</h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                        <div>
                            <div class="text-[10px] font-bold text-rose-500 uppercase tracking-widest mb-1">Success Rate</div>
                            <div class="text-2xl font-extrabold text-slate-900" x-text="condition.outcomes.successRate">58-68%</div>
                        </div>
                        <div>
                            <div class="text-[10px] font-bold text-amber-500 uppercase tracking-widest mb-1">Pain Reduction</div>
                            <div class="text-2xl font-extrabold text-slate-900" x-text="condition.outcomes.painReduction">2.3 pts</div>
                            <div class="text-[10px] text-slate-400" x-text="'(' + condition.outcomes.painScale + ')'">(0-10 scale)</div>
                        </div>
                        <div>
                            <div class="text-[10px] font-bold text-emerald-500 uppercase tracking-widest mb-1">Function Improvement</div>
                            <div class="text-2xl font-extrabold text-slate-900" x-text="condition.outcomes.functionImprovement">15.2 pts</div>
                            <div class="text-[10px] text-slate-400" x-text="'(' + condition.outcomes.functionScale + ')'">(NDI score)</div>
                        </div>
                        <div>
                            <div class="text-[10px] font-bold text-brand-500 uppercase tracking-widest mb-1">Duration</div>
                            <div class="text-2xl font-extrabold text-slate-900" x-text="condition.outcomes.duration">10-16</div>
                            <div class="text-[10px] text-slate-400" x-text="condition.outcomes.durationUnit">months</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Early CTA Section -->
        <section class="py-8">
            <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="bg-gradient-to-r from-brand-600 to-brand-700 rounded-2xl p-8 text-center shadow-xl">
                    <div class="flex flex-col md:flex-row items-center justify-between gap-6">
                        <div class="text-left">
                            <h3 class="text-2xl font-bold text-white mb-2">Ready to Explore Your Options?</h3>
                            <p class="text-brand-100">Get a free consultation with a verified stem cell specialist <span x-show="location.city" x-text="'in ' + location.city"></span></p>
                        </div>
                        <button @click="openConsultationModal()"
                           class="inline-flex items-center gap-2 px-8 py-4 bg-white text-brand-700 rounded-xl font-bold hover:bg-brand-50 transition shadow-lg whitespace-nowrap cursor-pointer">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                            Get Free Consultation
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Price Breakdown by Treatment Type -->
        <section class="py-12 bg-white">
            <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-2xl font-extrabold text-slate-900 mb-8">Price Breakdown by Treatment Type</h2>
                <div class="border border-slate-200 rounded-2xl overflow-hidden">
                    <div class="divide-y divide-slate-100">
                        <template x-for="treatment in condition.treatments" :key="treatment.name">
                            <div class="p-6 flex justify-between items-center hover:bg-slate-50 transition">
                                <div>
                                    <h4 class="font-bold text-slate-900" x-text="treatment.name"></h4>
                                    <p class="text-xs text-slate-400" x-text="'Source: ' + treatment.source"></p>
                                </div>
                                <span class="text-lg font-bold text-brand-600" x-text="treatment.priceRange"></span>
                            </div>
                        </template>
                    </div>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section class="py-12 bg-slate-50">
            <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-2xl font-extrabold text-slate-900 mb-8">Frequently Asked Questions</h2>
                <div class="space-y-4">
                    <template x-for="(faq, index) in condition.faqs" :key="index">
                        <div class="bg-white rounded-xl p-6 border border-slate-200">
                            <h3 class="font-bold text-slate-900 mb-2" x-text="faq.question"></h3>
                            <p class="text-slate-600 text-sm leading-relaxed" x-text="faq.answer"></p>
                        </div>
                    </template>
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        <section class="py-12 bg-slate-900">
            <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center text-white">
                    <h2 class="text-3xl font-extrabold mb-4">Find <span x-text="condition.shortName">Neck</span> Stem Cell Clinics <span x-show="location.city" x-text="'in ' + location.city">in San Diego</span></h2>
                    <p class="text-slate-400 mb-8">Compare prices and credentials from 250+ verified providers</p>
                    <a :href="location.city ? '/locations/' + location.stateSlug + '/' + location.citySlug + '/' : '/locations/'" class="inline-block px-10 py-4 bg-brand-600 hover:bg-brand-700 text-white rounded-2xl font-bold transition">
                        Browse Clinics
                    </a>
                </div>
            </div>
        </section>

        <!-- Other Conditions -->
        <section class="py-12 bg-white">
            <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-xl font-bold text-slate-900 mb-6">Other Condition Cost Guides</h2>
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
                    <template x-for="(cond, key) in otherConditions" :key="key">
                        <a :href="'/' + cond.slug + '/'"
                           class="block p-4 bg-slate-50 hover:bg-slate-100 rounded-xl text-center transition"
                           :class="{ 'ring-2 ring-brand-600 bg-brand-50': key === conditionKey }">
                            <div class="text-sm font-semibold text-slate-700" x-text="cond.shortName"></div>
                        </a>
                    </template>
                </div>
            </div>
        </section>

    </main>

    <!-- Location Change Modal -->
    <div x-show="showLocationModal" x-cloak class="fixed inset-0 z-50 flex items-center justify-center bg-black/50" @click.self="showLocationModal = false">
        <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl">
            <h3 class="text-xl font-bold text-slate-900 mb-4">Change Your Location</h3>
            <p class="text-slate-600 text-sm mb-6">Select a city to see local pricing and clinics.</p>

            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-semibold text-slate-700 mb-2">Select City</label>
                    <select x-model="selectedCity" class="w-full p-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-brand-500">
                        <option value="">-- Select a city --</option>
                        <template x-for="(city, slug) in CITY_PRICES" :key="slug">
                            <option :value="slug" x-text="city.name + ', ' + city.state"></option>
                        </template>
                    </select>
                </div>

                <div class="flex gap-3">
                    <button @click="showLocationModal = false" class="flex-1 px-4 py-3 border border-slate-300 rounded-xl font-semibold text-slate-700 hover:bg-slate-50 transition">
                        Cancel
                    </button>
                    <button @click="changeLocation()" class="flex-1 px-4 py-3 bg-brand-600 rounded-xl font-semibold text-white hover:bg-brand-700 transition">
                        Update Location
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Consultation Request Modal -->
    <div x-show="showConsultationModal" x-cloak class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4" @click.self="showConsultationModal = false">
        <div class="bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl max-h-[90vh] overflow-y-auto">
            <!-- Success State -->
            <div x-show="formSubmitted" class="text-center py-8">
                <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                </div>
                <h3 class="text-xl font-bold text-slate-900 mb-2">Request Submitted!</h3>
                <p class="text-slate-600">A specialist will contact you within 24 hours.</p>
            </div>

            <!-- Form State -->
            <div x-show="!formSubmitted">
                <h3 class="text-xl font-bold text-slate-900 mb-2">Request Information</h3>
                <p class="text-slate-600 text-sm mb-6">Fill out the form below and a specialist will contact you.</p>

                <!-- Error Message -->
                <div x-show="formError" x-cloak class="mb-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm" x-text="formError"></div>

                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-semibold text-slate-700 mb-2">Full Name *</label>
                        <input type="text" x-model="consultationForm.name" placeholder="John Smith"
                               class="w-full p-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-brand-500">
                    </div>

                    <div>
                        <label class="block text-sm font-semibold text-slate-700 mb-2">Email Address *</label>
                        <input type="email" x-model="consultationForm.email" placeholder="john@example.com"
                               class="w-full p-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-brand-500">
                    </div>

                    <div>
                        <label class="block text-sm font-semibold text-slate-700 mb-2">Phone Number *</label>
                        <input type="tel" x-model="consultationForm.phone" placeholder="(555) 123-4567"
                               class="w-full p-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-brand-500">
                    </div>

                    <div>
                        <label class="block text-sm font-semibold text-slate-700 mb-2">Condition / Area of Pain *</label>
                        <select x-model="consultationForm.condition"
                                class="w-full p-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-brand-500">
                            <option value="">Select your condition</option>
                            <option value="Knee">Knee Pain / Osteoarthritis</option>
                            <option value="Spine">Lower Back / Disc Pain</option>
                            <option value="Shoulder">Shoulder / Rotator Cuff</option>
                            <option value="Hip">Hip Pain / Osteoarthritis</option>
                            <option value="Neck">Neck / Cervical Spine</option>
                            <option value="SI Joint">SI Joint / Sacroiliac</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-semibold text-slate-700 mb-2">Additional Information</label>
                        <textarea x-model="consultationForm.message" rows="3" placeholder="Tell us more about your condition..."
                                  class="w-full p-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-brand-500 resize-none"></textarea>
                    </div>

                    <button @click="submitConsultationForm()"
                            class="w-full py-3 bg-brand-600 text-white rounded-xl font-semibold hover:bg-brand-700 transition">
                        Submit Request
                    </button>

                    <button @click="showConsultationModal = false"
                            class="w-full py-2 text-slate-500 hover:text-slate-700 font-medium transition text-sm">
                        Cancel
                    </button>

                    <p class="text-[11px] text-slate-400 text-center">
                        By submitting, you consent to be contacted about stem cell treatment options.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Global Footer / Disclosures -->
    <footer class="bg-white border-t border-slate-200 pt-16 pb-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-16">
                <div class="md:col-span-1">
                    <a href="/" class="flex items-center gap-2 mb-6">
                        <img src="/assets/images/logo-icon.png" alt="StemCellPrices.com" class="w-8 h-8 rounded-lg">
                        <span class="text-xl font-bold tracking-tight text-slate-900">StemCellPrices.com</span>
                    </a>
                    <p class="text-slate-500 text-sm leading-relaxed">
                        The web's most trusted database for regenerative orthopedic therapy pricing and clinic comparison.
                    </p>
                </div>
                <div>
                    <h5 class="font-bold text-slate-900 mb-4 text-sm uppercase tracking-widest">Treatment Costs</h5>
                    <ul class="space-y-2 text-sm text-slate-500">
                        <li><a href="/knee-cost-guide/" class="hover:text-brand-600">Knee Stem Cell Cost</a></li>
                        <li><a href="/spine-cost-guide/" class="hover:text-brand-600">Back & Spine Cost</a></li>
                        <li><a href="/shoulder-cost-guide/" class="hover:text-brand-600">Shoulder Injection Cost</a></li>
                        <li><a href="/hip-cost-guide/" class="hover:text-brand-600">Hip Osteoarthritis Cost</a></li>
                        <li><a href="/neck-cost-guide/" class="hover:text-brand-600">Neck/Cervical Cost</a></li>
                        <li><a href="/si-joint-cost-guide/" class="hover:text-brand-600">SI Joint Cost</a></li>
                    </ul>
                </div>
                <div>
                    <h5 class="font-bold text-slate-900 mb-4 text-sm uppercase tracking-widest">Top Locations</h5>
                    <ul class="space-y-2 text-sm text-slate-500">
                        <li><a href="/locations/" class="hover:text-brand-600">All 30 States</a></li>
                        <li><a href="/locations/california/los-angeles/" class="hover:text-brand-600">Clinics in Los Angeles</a></li>
                        <li><a href="/locations/california/" class="hover:text-brand-600">Clinics in California</a></li>
                        <li><a href="/locations/texas/" class="hover:text-brand-600">Clinics in Texas</a></li>
                    </ul>
                </div>
                <div>
                    <h5 class="font-bold text-slate-900 mb-4 text-sm uppercase tracking-widest">Legal</h5>
                    <ul class="space-y-2 text-sm text-slate-500">
                        <li><a href="#" class="hover:text-brand-600">Privacy Policy</a></li>
                        <li><a href="#" class="hover:text-brand-600">Terms of Service</a></li>
                        <li><a href="#" class="hover:text-brand-600">Clinic Verification</a></li>
                    </ul>
                </div>
            </div>

            <!-- Mandatory Compliance Footer -->
            <div class="p-6 bg-slate-50 rounded-2xl border border-slate-100 mb-8">
                <div class="flex items-start gap-4 text-[11px] text-slate-400 leading-relaxed uppercase tracking-wider">
                    <svg class="w-10 h-10 text-slate-300 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                    <div>
                        <p class="mb-2"><strong>Disclaimer:</strong> StemCellPrices.com is an information directory only. We do not provide medical advice, diagnosis, or treatment recommendations. All costs are estimated based on clinic reports and historical data. Stem cell therapies for orthopedic use vary in FDA status; always consult with a licensed physician regarding the regulatory status and safety of any procedure.</p>
                        <p>No outcomes are guaranteed. Price ranges do not include airfare, lodging, or ancillary testing unless specified.</p>
                    </div>
                </div>
            </div>

            <div class="flex flex-col md:flex-row justify-between items-center gap-4 text-slate-400 text-xs border-t border-slate-100 pt-8">
                <p>&copy; 2026 StemCellPrices.com Inc. All rights reserved.</p>
                <div class="flex gap-6">
                    <a href="#" class="hover:text-slate-600">Twitter</a>
                    <a href="#" class="hover:text-slate-600">LinkedIn</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        function costGuideApp() {
            return {
                // Page configuration (set by template or URL)
                conditionKey: 'neck',
                initialCity: 'san-diego',
                initialState: 'california',

                // State
                condition: {},
                location: {
                    city: null,
                    state: null,
                    stateCode: null,
                    citySlug: null,
                    stateSlug: null
                },
                prices: {
                    low: 0,
                    median: 0,
                    high: 0
                },
                showLocationModal: false,
                showConsultationModal: false,
                selectedCity: '',
                otherConditions: {},

                // Consultation form
                consultationForm: {
                    name: '',
                    email: '',
                    phone: '',
                    condition: '',
                    message: ''
                },
                formSubmitted: false,
                formError: '',

                async init() {
                    // Load condition data
                    this.condition = CONDITIONS[this.conditionKey] || CONDITIONS['knee'];

                    // Set other conditions for navigation
                    this.otherConditions = CONDITIONS;

                    // Set base prices
                    this.prices = {
                        low: this.condition.priceRange.low,
                        median: this.condition.priceRange.median,
                        high: this.condition.priceRange.high
                    };

                    // Determine location
                    if (this.initialCity && CITY_PRICES[this.initialCity]) {
                        // Location from URL
                        this.setLocation(this.initialCity);
                    } else {
                        // Try geo-detection
                        await this.detectLocation();
                    }
                },

                async detectLocation() {
                    try {
                        const geo = await detectUserLocation();
                        if (geo && geo.city) {
                            // Find matching city in our data
                            const citySlug = this.findCitySlug(geo.city, geo.state);
                            if (citySlug) {
                                this.setLocation(citySlug);
                            }
                        }
                    } catch (e) {
                        console.log('Geo-detection not available, using national prices');
                    }
                },

                findCitySlug(cityName, stateName) {
                    for (const [slug, city] of Object.entries(CITY_PRICES)) {
                        if (city.name.toLowerCase() === cityName.toLowerCase() ||
                            slug === cityName.toLowerCase().replace(/\s+/g, '-')) {
                            return slug;
                        }
                    }
                    return null;
                },

                setLocation(citySlug) {
                    const city = CITY_PRICES[citySlug];
                    if (!city) return;

                    this.location = {
                        city: city.name,
                        state: city.state,
                        stateCode: city.state.substring(0, 2).toUpperCase(),
                        citySlug: citySlug,
                        stateSlug: city.stateSlug
                    };

                    // Adjust prices for this city
                    const modifier = city.priceModifier;
                    this.prices = {
                        low: Math.round(this.condition.priceRange.low * modifier / 100) * 100,
                        median: Math.round(this.condition.priceRange.median * modifier / 100) * 100,
                        high: Math.round(this.condition.priceRange.high * modifier / 100) * 100
                    };

                    // Save to localStorage
                    localStorage.setItem('userLocation', JSON.stringify({
                        citySlug: citySlug,
                        city: city.name,
                        state: city.state
                    }));
                },

                changeLocation() {
                    if (this.selectedCity) {
                        this.setLocation(this.selectedCity);
                        this.showLocationModal = false;

                        // Update URL to reflect new location
                        const newUrl = '/' + this.condition.slug + '/' +
                                       CITY_PRICES[this.selectedCity].stateSlug + '/' +
                                       this.selectedCity + '/';
                        window.history.pushState({}, '', newUrl);
                    }
                },

                formatPrice(amount) {
                    return '$' + amount.toLocaleString('en-US');
                },

                openConsultationModal() {
                    this.showConsultationModal = true;
                    this.formSubmitted = false;
                    this.formError = '';
                    // Pre-fill condition if available
                    if (this.condition && this.condition.shortName) {
                        this.consultationForm.condition = this.condition.shortName;
                    }
                },

                async submitConsultationForm() {
                    // Basic validation
                    if (!this.consultationForm.name || !this.consultationForm.email || !this.consultationForm.phone || !this.consultationForm.condition) {
                        this.formError = 'Please fill in all required fields.';
                        return;
                    }

                    // Email validation
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    if (!emailRegex.test(this.consultationForm.email)) {
                        this.formError = 'Please enter a valid email address.';
                        return;
                    }

                    try {
                        // Submit to Netlify Forms
                        const formData = new URLSearchParams();
                        formData.append('form-name', 'consultation');
                        formData.append('name', this.consultationForm.name);
                        formData.append('email', this.consultationForm.email);
                        formData.append('phone', this.consultationForm.phone);
                        formData.append('condition', this.consultationForm.condition);
                        formData.append('message', this.consultationForm.message || '');
                        formData.append('page_url', window.location.href);
                        formData.append('location', this.location.city ? this.location.city + ', ' + this.location.state : 'Not specified');

                        const response = await fetch('/', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                            body: formData.toString()
                        });

                        if (!response.ok) {
                            throw new Error('Form submission failed');
                        }

                        // Track form submission
                        if (typeof gtag !== 'undefined') {
                            gtag('event', 'consultation_request', {
                                'condition': this.consultationForm.condition,
                                'location': this.location.city || 'Unknown'
                            });
                        }

                        this.formSubmitted = true;
                        this.formError = '';

                        // Reset form after delay
                        setTimeout(() => {
                            this.showConsultationModal = false;
                            this.consultationForm = { name: '', email: '', phone: '', condition: '', message: '' };
                        }, 3000);

                    } catch (error) {
                        this.formError = 'Something went wrong. Please try again.';
                        console.error('Form error:', error);
                    }
                }
            }
        }
    </script>
</body>
</html>
